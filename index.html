
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ashish Singh</title>
  <meta name="author" content="Ashish Singh">

  
  <meta name="description" content="Git is an amazing and indispensable tool. We use it for tracking all of our development work. It just becomes more cooler when you are able to push &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://git-ashish.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Ashish Singh" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11634524-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      //ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';

      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Ashish Singh</a></h1>
  
    <h2>Web Hacking. Typify.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:git-ashish.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/05/19/deploy-to-amazon-ec2-using-git/">Deploy to Amazon EC2 Using GIT</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-19T22:22:00+05:30" pubdate data-updated="true">May 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://git-scm.com/" title="Gitâ€Ž">Git</a> is an amazing and indispensable tool. We use it for tracking all of our development work. It just becomes more cooler when you are able to push your code to a production or sandbox server with a simple <a href="http://git-scm.com/book/ch2-5.html%E2%80%8E">git push</a>.</p>

<p>Below listed are simple yet powerful steps to get you pushing your code to an Amazon EC2 server or any other linux server, where you have <a href="http://en.wikipedia.org/wiki/Secure_Shell%E2%80%8E">SSH</a> access.</p>

<h2>Install git on your Server</h2>

<p>From you local machine</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -i /path/to/my-amazon-key.pem ec2-user@example-webserver.amazonaws.com
</span><span class='line'>
</span><span class='line'>// on your ec2 server
</span><span class='line'>ubuntu@ip-xxx-xxx-xx-xxx:~$ sudo apt-get install git</span></code></pre></td></tr></table></div></figure>


<h2>Setup SSH Access</h2>

<p>You need SSH access to the server in order to push your code.
If you have more than one servers to push to, you need to manage more than one SSH keys. You can configure the SSH config file to do that job. Open up <code>~/.ssh/config</code> file and add this code for each of your hosts. Replace Host, Hostname, User and IdentityFile values with yours.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Host my-prod-server
</span><span class='line'>Hostname example-webserver.amazonaws.com
</span><span class='line'>User ec2-user
</span><span class='line'>IdentityFile /path/to/my-amazon-key.pem
</span><span class='line'>
</span><span class='line'>Host my-sandbox-server
</span><span class='line'>Hostname example-webserver.amazonaws.com
</span><span class='line'>User ec2-user
</span><span class='line'>IdentityFile /path/to/my-sandbox-amazon-key.pem</span></code></pre></td></tr></table></div></figure>


<h2>Test the connection</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh my-prod-server</span></code></pre></td></tr></table></div></figure>


<p>Hurray, if you get connected to your server otherwise debug using this.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -Tvvv my-prod-server</span></code></pre></td></tr></table></div></figure>


</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/05/19/deploy-to-amazon-ec2-using-git/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/04/06/auto-deploy-to-buffer/">Auto Deploy to Buffer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-06T01:09:00+05:30" pubdate data-updated="true">Apr 6<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Octopress is a great simple tool for blogging. A lot of custom stuff can be built upon it. Here is how you can use <a href="https://bufferapp.com">BufferApp</a> to share you posts to your social networks.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/04/06/auto-deploy-to-buffer/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/03/15/when-options-indexes-in-htaccess-doesnt-work/">When Options -Indexes in .htaccess Doesn&#8217;t Work</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-15T19:48:00+05:30" pubdate data-updated="true">Mar 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&#8217;ve our sandbox server running on Amazon EC2. There are a lot of projects hosted there with each project&#8217;s .htaccess taking care of it. Apart from the various tasks that the .htaccess does, it restricts directory browsing using simple directive</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;IfModule mod_autoindex.c&gt;
</span><span class='line'>  Options -Indexes
</span><span class='line'>&lt;/IfModule&gt;</span></code></pre></td></tr></table></div></figure>


<p>But somehow on the root folder of the sandbox, this directive didn&#8217;t work. This implies, a directory specific directive was somewhere being issues. These are a few places to look for</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/apache2/httpd.conf
</span><span class='line'>/etc/apache2/apache.conf
</span><span class='line'>/etc/apache2/sites-enabled/000-default</span></code></pre></td></tr></table></div></figure>


<p>In our case, the below directives were present in the <code>/etc/apache2/sites-enabled/000-default</code> file.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DocumentRoot /var/www
</span><span class='line'>&lt;Directory /&gt;
</span><span class='line'>        Options FollowSymLinks
</span><span class='line'>        AllowOverride None
</span><span class='line'>&lt;/Directory&gt;
</span><span class='line'>&lt;Directory /var/www/&gt;
</span><span class='line'>        Options Indexes FollowSymLinks MultiViews Includes
</span><span class='line'>        AllowOverride None
</span><span class='line'>        Order allow,deny
</span><span class='line'>        allow from all
</span><span class='line'>&lt;/Directory&gt;</span></code></pre></td></tr></table></div></figure>


<p>This was changed to</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DocumentRoot /var/www
</span><span class='line'>&lt;Directory /&gt;
</span><span class='line'>        #Options FollowSymLinks
</span><span class='line'>        Options -Indexes
</span><span class='line'>        #AllowOverride None
</span><span class='line'>&lt;/Directory&gt;
</span><span class='line'>&lt;Directory /var/www/&gt;
</span><span class='line'>        #Options Indexes FollowSymLinks MultiViews Includes
</span><span class='line'>        #AllowOverride None
</span><span class='line'>        #Order allow,deny
</span><span class='line'>        #allow from all
</span><span class='line'>        Options -Indexes
</span><span class='line'>&lt;/Directory&gt;</span></code></pre></td></tr></table></div></figure>


<p>and it worked!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/02/22/setup-smtp-on-bugzilla/">Setup SMTP on Bugzilla</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-22T23:33:00+05:30" pubdate data-updated="true">Feb 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Our startup just celebrated its 1st anniversary and we marked this by making <a href="http://www.bugzilla.org">bugzilla</a> our primary bug tracker. The bugzilla <a href="http://www.bugzilla.org/docs/4.2/en/html/index.html">docs</a> will help you setting it up.</p>

<p>We are hosting it on Ubuntu 12.04 LTS 64bit Amazon EC2 micro instance and using Amazon RDS mysql as backend. For sending bugzilla emails alerts, we choose SMTP.</p>

<p>We followed this <a href="http://dawood.in/bugzilla-alerts-using-gmail/">guide</a> but ran into some problems on the first step of installing perl module <a href="http://search.cpan.org/~fayland/Email-Send-SMTP-TLS-0.04/lib/Email/Send/SMTP/TLS.pm">Email::Send::SMTP::TLS</a>. The error we got was</p>

<p><em>Building and testing Net-SSLeay-1.52 &#8230; FAIL</em></p>

<p>This probably means that your Ubuntu is missing the Perl module for Secure Sockets Layer (SSL). You install it like this.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install libnet-ssleay-perl</span></code></pre></td></tr></table></div></figure>


<p>Next, we go ahead with the installation of Email::Send::SMTP::TLS module.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install cpanminus
</span><span class='line'>sudo cpanm Email::Send::SMTP::TLS</span></code></pre></td></tr></table></div></figure>


<p>Now, continue following this <a href="http://dawood.in/bugzilla-alerts-using-gmail/">guide</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/02/02/hello-world-chao-procrastination/">Hello World - Chao Procrastination</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-02T06:51:00+05:30" pubdate data-updated="true">Feb 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hello all.</p>

<p>It has been quite sometime since I entered the amazing world of Web development and the beauty of <a href="http://en.wikipedia.org/wiki/Open_source#Computer_software" title="Open Source Software">Open Source</a>.
I intend to post things here, that will hopefully help some people in some ways. This is going to be an avenue for sharing stuff that I create or think are cool in my areas of interest. A lot of stuff here is going to be highly opinionated.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/02/02/goodmorning-world/">Goodmorning World</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-02T06:43:00+05:30" pubdate data-updated="true">Feb 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is going to be amazing.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/05/19/deploy-to-amazon-ec2-using-git/">Deploy to Amazon EC2 using GIT</a>
      </li>
    
      <li class="post">
        <a href="/2013/04/06/auto-deploy-to-buffer/">Auto deploy to Buffer</a>
      </li>
    
      <li class="post">
        <a href="/2013/03/15/when-options-indexes-in-htaccess-doesnt-work/">When Options -Indexes in .htaccess doesn&#8217;t work</a>
      </li>
    
      <li class="post">
        <a href="/2013/02/22/setup-smtp-on-bugzilla/">Setup SMTP on Bugzilla</a>
      </li>
    
      <li class="post">
        <a href="/2013/02/02/hello-world-chao-procrastination/">Hello World - Chao Procrastination</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/git-ashish">@git-ashish</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'git-ashish',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("ashish_k_singh", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/ashish_k_singh" class="twitter-follow-button" data-show-count="false">Follow @ashish_k_singh</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/103919882667314232395?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <!-- Copyright &copy; 2013 - Ashish Singh -->
  It&apos;s all yours under <a href="http://creativecommons.org/publicdomain/zero/1.0/">Creative Commons CC0</a>.
  <!--<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>-->
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'deductiveblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
